
project --topLevelPackage org.gvnix.test.service.layer.project --java 5 --projectName service-layer-test

persistence setup --provider HIBERNATE --database HYPERSONIC_IN_MEMORY 

entity --class ~.domain.Person --testAutomatically
field string --fieldName name --notNull
field number --fieldName edad --type java.lang.Integer 
field date --fieldName fecha --type java.util.Calendar 
entity --class org.gvnix.test.service.layer.project.domain.Horse --testAutomatically
field string --fieldName name --notNull
field reference --fieldName person --type org.gvnix.test.service.layer.project.domain.Person
focus --class ~.domain.Person
field set --fieldName horses --element org.gvnix.test.service.layer.project.domain.Horse --cardinality ONE_TO_MANY --mappedBy person 
entity --class org.gvnix.test.service.layer.project.domain.Car --testAutomatically
field string --fieldName name --notNull
field reference --fieldName person --type org.gvnix.test.service.layer.project.domain.Person
focus --class ~.domain.Person
field set --fieldName coches --element org.gvnix.test.service.layer.project.domain.Car --cardinality ONE_TO_MANY --mappedBy person

dependency add --groupId javax.xml.bind --artifactId jaxb-api --version 2.1
dependency add --groupId com.sun.xml.bind --artifactId jaxb-impl --version 2.1.3

controller all --package org.gvnix.test.service.layer.project.web

// [CORRECT] Create Service Class.
service class --class org.gvnix.test.service.layer.project.services.Clase

// [CORRECT] Create service operations without return type. 
service operation --name checkString --service org.gvnix.test.service.layer.project.services.Clase

// [CORRECT] Export Class as web service.
service define ws --class org.gvnix.test.service.layer.project.services.Clase

// [ERROR] Export Entity Class as web service. Can't be Exported yet. Waiting for AspectJ Update.
service define ws --class org.gvnix.test.service.layer.project.domain.Car

// [CORRECT] Create and Export operation Throwing an exception exception. 
service operation --name returnString --service org.gvnix.test.service.layer.project.services.Clase --return java.lang.String --exceptions java.lang.Exception
service export operation --class org.gvnix.test.service.layer.project.services.Clase --method returnString --resultName resultado

// [ERROR] Create operation throwing an incorrect exception, can't be exported as service operation.
service operation --name wrongException --service org.gvnix.test.service.layer.project.services.Clase --return java.lang.String --exceptions org.gvnix.test.service.layer.project.exceptions.FakeClassException
service export operation --class org.gvnix.test.service.layer.project.services.Clase --method wrongException
 
// [CORRECT] Create and Export operation with correct input parameters.
service operation --name inputParameters --service org.gvnix.test.service.layer.project.services.Clase --return java.lang.String --paramTypes java.lang.Integer,java.lang.String --paramNames number,name
service export operation --class org.gvnix.test.service.layer.project.services.Clase --method inputParameters

// [ERROR] Create and Export operation with incorrect input parameters, can't be exported as web service operation.
service operation --name incorrectInputParameters --service org.gvnix.test.service.layer.project.services.Clase --return java.lang.String --paramTypes java.util.Map,java.lang.String --paramNames map,name
service export operation --class org.gvnix.test.service.layer.project.services.Clase --method incorrectInputParameters

// Import Remote Document Style web services: will be generated with CXF

// [CORRECT] Transport: HTTP,  Operations: 2, Bindings: SOAP, SOAP12, HTTP POST, Use: Literal
service import ws --class org.gvnix.test.service.layer.project.services.ClaseProxy00 --wsdl http://www.w3schools.com/webservices/tempconvert.asmx?WSDL

// [CORRECT] Transport: HTTPS, Operations: 1, Bindings: SOAP, Use: Literal, Implementation: MS .NET, Authentication/Authorization: SOAP Headers (SSL available), Primitive Types
service import ws --class org.gvnix.test.service.layer.project.services.ClaseProxy01 --wsdl https://ws.xwebservices.com/XWebEmailValidation/XWebEmailValidation.asmx?wsdl

// [CORRECT] Transport: HTTP,  Operations: 1, Bindings: SOAP, Use: Literal, Implementation: MS .NET, Authentication/Authorization: WS-Security, Complex Types,
service import ws --class org.gvnix.test.service.layer.project.services.ClaseProxy02 --wsdl http://ws.xwebservices.com/XWebEmailValidation/V2/XWebEmailValidation.wsdl

// [CORRECT] Transport: HTTP,  Operations: 3, Bindings: SOAP, SOAP12, HTTP GET, HTTP POST, Use: Literal
service import ws --class org.gvnix.test.service.layer.project.services.ClaseProxy03 --wsdl http://ws.cdyne.com/WeatherWS/Weather.asmx?wsdl

// [CORRECT] Transport: HTTP,  Operations: 4, Bindings: SOAP 1.1, Use: Literal, Implementation: Glue 4.1.2, Messaging Pattern: Synchronous
service import ws --class org.gvnix.test.service.layer.project.services.ClaseProxy04 --wsdl http://soatest.parasoft.com/calculator.wsdl

// [CORRECT] Transport: HTTP,  Operations: 1, Bindings: SOAP, SOAP12, HTTP GET, HTTP POST, Use: Literal, Implementation: MS .NET
service import ws --class org.gvnix.test.service.layer.project.services.ClaseProxy05 --wsdl http://www.ripedevelopment.com/webservices/LocalTime.asmx?WSDL

// Import Remote RPC Style web services: will be generated with Axis

// [CORRECT] Transport: HTTP, Bindings: SOAP, Use: Encoded
service import ws --class org.gvnix.test.service.layer.project.services.ClaseProxy10 --wsdl http://pruebas.ha.gva.es/WS_BDC/WSBDC.WebServicios?WSDL

// [CORRECT] Transport: HTTP, Operations: 1, Bindings: SOAP, Use: Encoded
service import ws --class org.gvnix.test.service.layer.project.services.ClaseProxy11 --wsdl http://www.aswinanand.com/sendsms.php?wsdl

// [CORRECT] Transport: HTTP, Operations: 179, Bindings: SOAP, Use: Encoded, Implementation: AXIS
service import ws --class org.gvnix.test.service.layer.project.services.ClaseProxy12 --wsdl http://www.konakart.com/konakart/services/KKWebServiceEng?wsdl

// [ERROR] Remote and local file not existing
service import ws --class org.gvnix.test.service.layer.project.services.ClaseProxy20 --wsdl http://this.location/not/exists
service import ws --class org.gvnix.test.service.layer.project.services.ClaseProxy21 --wsdl file:/this/location/not/exists

// [CORRECT] Local WSDL files placed into src/test/resource relative path, the second one has been repeated
service import ws --class ~.services.ClaseProxy30 --wsdl file:src/test/resources/WSAuth.wsdl
service import ws --class ~.services.ClaseProxy31 --wsdl file:src/test/resources/tempconvert.wsdl
service import ws --class ~.services.ClaseProxy32 --wsdl file:src/test/resources/SimacServiciosListener.jws.xml

// Export WSDL 2 Java
service export wsdl --wsdl http://www.w3schools.com/webservices/tempconvert.asmx?WSDL

perform eclipse
perform assembly
