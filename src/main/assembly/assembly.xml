<?xml version="1.0" encoding="UTF-8"?>
<assembly
	xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd">
	<formats>
		<format>zip</format>
	</formats>
	<includeBaseDirectory>true</includeBaseDirectory>
	<baseDirectory>gvNIX-${project.version}</baseDirectory>

	<files>
		<!-- Roo readme.txt -->
		<file>
			<source>roo/bootstrap/readme.txt</source>
			<outputDirectory>/</outputDirectory>
			<destName>readme-roo.txt</destName>
 		</file>
		<!-- gvNIX readme.txt -->
		<file>
			<source>src/main/assembly/readme.txt</source>
			<outputDirectory>/</outputDirectory>
			<destName>readme.txt</destName>
			<filtered>true</filtered>
 		</file>
		<!-- Roo license.txt -->
		<file>
			<source>roo/LICENSE.TXT</source>
			<outputDirectory>/legal</outputDirectory>
			<destName>ROO-LICENSE.TXT</destName>
 		</file>
		<!-- gvNIX license.txt -->
		<file>
			<source>LICENSE.TXT</source>
			<outputDirectory>/legal</outputDirectory>
			<destName>LICENSE.TXT</destName>
 		</file>
		<!-- gvNIX doc-license.txt html-single-->
		<file>
			<source>LICENSE.TXT</source>
			<outputDirectory>/legal</outputDirectory>
			<destName>LICENSE.TXT</destName>
 		</file>
		<!-- gvNIX doc-license.txt html-->
		<file>
			<source>src/main/assembly/DOCS-LICENSE.TXT</source>
			<outputDirectory>/docs/html</outputDirectory>
			<destName>LICENSE.TXT</destName>
 		</file>
		<!-- gvNIX doc-license.txt html-->
		<file>
			<source>src/main/assembly/DOCS-LICENSE.TXT</source>
			<outputDirectory>/docs/html-single</outputDirectory>
			<destName>LICENSE.TXT</destName>
 		</file>
		<!-- gvNIX doc-license.txt pdf-->
		<file>
			<source>src/main/assembly/DOCS-LICENSE.TXT</source>
			<outputDirectory>/docs/pdf</outputDirectory>
			<destName>LICENSE.TXT</destName>
 		</file>
		<!-- gvNIX gvnix script -->
		<file>
			<!-- FIXED problem when ROO is installed on with-spaces path
			     see http://jira.springframework.org/browse/ROO-905 
			<source>${roo.distribution.final-location}/bin/roo.sh</source> 

			added -Droo.home
			-->
			<source>src/main/assembly/roo.sh</source> 
			<outputDirectory>/bin</outputDirectory>
			<destName>gvnix</destName>
			<fileMode>775</fileMode>
 		</file>
		<!-- gvNIX gvnix.bat -->
		<file>
			<source>src/main/assembly/roo.bat</source>
			<outputDirectory>/bin</outputDirectory>
			<destName>gvnix.bat</destName>
			<fileMode>664</fileMode>
 		</file>
	</files>




	<fileSets>
		<!-- Roo base -->
		<fileSet>
			<outputDirectory>/bin</outputDirectory>
			<directory>roo/bootstrap/target</directory>
			<useDefaultExcludes>true</useDefaultExcludes>
			<includes>
				<include>org.springframework.roo.bootstrap-*.jar</include>
			</includes>
			<excludes>
				<exclude>*-sources.jar</exclude>
			</excludes>
		</fileSet>
		<fileSet>
			<outputDirectory>/bin</outputDirectory>
			<directory>roo/bootstrap/target/dependency</directory>
			<useDefaultExcludes>true</useDefaultExcludes>
			<includes>
				<include>org.apache.felix.framework-*.jar</include>
			</includes>
		</fileSet>
	       <fileSet>
       		     <outputDirectory>/bundle</outputDirectory>
		     <directory>roo/target/bundle</directory>
        	   <useDefaultExcludes>true</useDefaultExcludes>
	            <includes>
       		         <include>*.jar</include>
	            </includes>
       	    </fileSet>
        <fileSet>
            <outputDirectory>/conf</outputDirectory>
	    <directory>roo/bootstrap/src/main/conf</directory>
            <lineEnding>unix</lineEnding>
            <useDefaultExcludes>true</useDefaultExcludes>
            <includes>
                <include>*.*</include>
            </includes>
        </fileSet>
		<fileSet>
			<outputDirectory>/samples</outputDirectory>
			<directory>roo/classpath/src/main/resources</directory>
			<lineEnding>unix</lineEnding>
			<useDefaultExcludes>true</useDefaultExcludes>
			<includes>
				<include>*.roo</include>
			</includes>
		</fileSet>
        <fileSet>
            <outputDirectory>/annotations</outputDirectory>
	    <directory>roo/annotations/target</directory>
            <useDefaultExcludes>true</useDefaultExcludes>
            <includes>
                <include>*.jar</include>
            </includes>
            <excludes>
                <exclude>*-tests.jar</exclude>
            </excludes>
        </fileSet>
		<fileSet>
			<outputDirectory>/legal</outputDirectory>
			<directory>roo/addon-plural</directory>
			<lineEnding>unix</lineEnding>
			<useDefaultExcludes>true</useDefaultExcludes>
			<includes>
				<include>legal-*.txt</include>
			</includes>
		</fileSet>
		<fileSet>
			<outputDirectory>/legal</outputDirectory>
			<directory>roo/bootstrap</directory>
			<lineEnding>unix</lineEnding>
			<useDefaultExcludes>true</useDefaultExcludes>
			<includes>
				<include>legal-*.txt</include>
			</includes>
		</fileSet>
		<fileSet>
			<outputDirectory>/legal</outputDirectory>
			<directory>roo/classpath-javaparser</directory>
			<lineEnding>unix</lineEnding>
			<useDefaultExcludes>true</useDefaultExcludes>
			<includes>
				<include>legal-*.txt</include>
			</includes>
		</fileSet>
		<fileSet>
			<outputDirectory>/legal</outputDirectory>
			<directory>roo/shell-jline</directory>
			<lineEnding>unix</lineEnding>
			<useDefaultExcludes>true</useDefaultExcludes>
			<includes>
				<include>legal-*.txt</include>
			</includes>
		</fileSet>
		<fileSet>
			<outputDirectory>/legal</outputDirectory>
			<directory>roo/support</directory>
			<lineEnding>unix</lineEnding>
			<useDefaultExcludes>true</useDefaultExcludes>
			<includes>
				<include>legal-*.txt</include>
			</includes>
		</fileSet>
		<fileSet>
			<outputDirectory>/legal</outputDirectory>
			<directory>roo/addon-web-mvc-jsp</directory>
			<lineEnding>unix</lineEnding>
			<useDefaultExcludes>true</useDefaultExcludes>
			<includes>
				<include>legal-*.txt</include>
			</includes>
		</fileSet>
		<fileSet>
			<outputDirectory>/legal</outputDirectory>
			<directory>roo/addon-gwt</directory>
			<lineEnding>unix</lineEnding>
			<useDefaultExcludes>true</useDefaultExcludes>
			<includes>
				<include>legal-*.txt</include>
			</includes>
		</fileSet>
		<!-- / Roo base -->


		<!-- gvNIX docs -->
		<fileSet>
			<outputDirectory>/docs/pdf</outputDirectory>
			<directory>target/site/reference/pdf</directory>
		</fileSet>
		<fileSet>
			<outputDirectory>/docs/html</outputDirectory>
			<directory>target/site/reference/html</directory>
		</fileSet>
		<fileSet>
			<outputDirectory>/docs/html-single</outputDirectory>
			<directory>target/site/reference/html-single</directory>
		</fileSet>
		<!-- gvNIX annotations -->
		<fileSet>
		    <outputDirectory>/annotations</outputDirectory>
		    <directory>annotations/target</directory>
		    <useDefaultExcludes>true</useDefaultExcludes>
		    <includes>
			<include>*.jar</include>
		    </includes>
		    <excludes>
			<exclude>*-tests.jar</exclude>
		    </excludes>
		</fileSet>

		<!-- gvNIX bundles -->
		<fileSet>
		    <outputDirectory>/bundle</outputDirectory>
		    <directory>${project.build.directory}/bundle</directory>
		    <useDefaultExcludes>true</useDefaultExcludes>
		    <includes>
			<include>*.jar</include>
		    </includes>
		</fileSet>
		<!-- gvNIX themes -->
		<fileSet>
		    <outputDirectory>/themes</outputDirectory>
		    <directory>themes</directory>
		    <useDefaultExcludes>true</useDefaultExcludes>
		    <includes>
			    <include>**/*</include>
		    </includes>
		</fileSet>
		<!-- gvNIX samples -->
		<fileSet>
		    <outputDirectory>/samples</outputDirectory>
		    <directory>src/main/assembly/samples</directory>
		    <useDefaultExcludes>true</useDefaultExcludes>
		    <includes>
			    <include>**/*</include>
		    </includes>
		</fileSet>

	</fileSets>
</assembly>
